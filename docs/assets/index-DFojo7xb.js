import{r as h,u as N,a as L,j as e,b as $,c as I,L as _,d as k,e as q,O as M,H as y,f as U,t as O,g as B,p as W,h as V,i as H,k as Y,l as D,m as J,n as z,R as G,o as K,q as X,B as Q,s as Z,v as ee,P as te}from"./vendor-DIefubrF.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const r of c.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function s(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(i){if(i.ep)return;i.ep=!0;const c=s(i);fetch(i.href,c)}})();function se(){const a=h.useRef(null),{t}=N(),s=L(),n=o=>{s(`/${o}`)};function i(o){let l=o.previousElementSibling;for(;l!==null;)l.classList.add("inactive"),l=l.previousElementSibling;let d=o.nextElementSibling;for(;d!==null;)d.classList.add("inactive"),d=d.nextElementSibling}function c(o){let l=o.previousElementSibling;for(;l!==null;)l.classList.remove("inactive"),l=l.previousElementSibling;let d=o.nextElementSibling;for(;d!==null;)d.classList.remove("inactive"),d=d.nextElementSibling}const r=o=>{const l=o.target,d=l.getAttribute("data-id")===null?l.parentElement.getAttribute("data-id"):l.getAttribute("data-id");if(d==="project"){window.open("https://github.com/hingq/");return}l.classList.contains("inactive")?(c(l),a.current.classList.remove("fx-box_rotate")):(a.current.classList.add("fx-box_rotate"),i(l),l.classList.add("active"),n(d),l.addEventListener("animationend",()=>{a.current.classList.remove("fx-box_rotate"),c(l),l.classList.remove("active")}))};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"container",children:e.jsxs("nav",{className:"nav_main clearfix",ref:a,children:[e.jsx("button",{className:"nav-el",id:"el-topleft","data-id":"mind",onClick:r,children:e.jsx("span",{className:"icon-location",children:t("nav.Analytical")})}),e.jsx("button",{className:"nav-el",id:"el-topright","data-id":"poem",onClick:r,children:e.jsx("span",{className:"icon-cloud",children:t("nav.Feedback")})}),e.jsx("button",{className:"nav-el",id:"el-btmleft","data-id":"code",onClick:r,children:e.jsx("span",{className:"icon-location",children:t("nav.markdown")})}),e.jsx("button",{className:"nav-el",id:"el-btmright","data-id":"project",onClick:r,children:e.jsx("span",{className:"icon-search",children:t("nav.Project")})})]})})})}const ne=()=>{const t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(var s="",n=8;n>0;--n)s+=t[Math.floor(Math.random()*t.length)];return s};function ae(a){if(a)return le(a).then(t=>{const s=oe(t);return ie(s)})}function E(a,t){if(!a)return{};let s=[],n=0,i;for(;n<a.length;){let{type:c,text:r}=a[n];const o=ne();r&&(i={id:`${c}_${o}`,topic:r.split(`
`).join("").trim(),parentid:t,direction:Math.random()>.5?"left":"right",expanded:Math.random()>.5},s.push(i)),n++}return s}function ie(a){if(!a)return;let t=[],s=0,n,i;for(;s<a.length;){let{type:c,title:r,content:o}=a[s];for(n={id:`${c}_${r}`,parentid:"root",topic:r,direction:Math.random()>.5?"left":"right",expanded:Math.random()>.5},t.push(n),t.push(...E(C(o),`${c}_${r}`)),i=s+1;i<a.length&&a[i].type>c;){let{type:l,title:d,content:u}=a[i];const p=C(u);t.push({id:`${l}_${d}`,parentid:`${c}_${r}`,topic:d,direction:Math.random()>.5?"left":"right",expanded:Math.random()>.5}),t.push(...E(p,`${l}_${d}`)),i++}s=i}return t}function le(a){return new Promise((t,s)=>{const n=new FileReader;n.onload=function(i){t(i.target.result)},n.onerror=function(i){s(i)},n.readAsText(a)})}function C(a){if(!a)return[];const t=a.split(`
`),s=[];let n=null,i=null,c=null,r="";return t.forEach(o=>{let l=null;if(o.trim().startsWith("```")){c&&(s.push({type:"code",text:r.trim()}),r=""),c=!c,n=null;return}if(c){r+=o+`
`;return}else if(l=o.match(/^-\s+(.*)/))(!n||n.type!=="ul")&&(n={type:"ul",item:[]},s.push(n)),n.item.push({type:"li",text:l[1]});else if(l=o.match(/^\d+\.\s+(.*)/))(!n||n.type!=="ol")&&(n={type:"ol",items:[]},s.push(n)),n.items.push({type:"li",text:l[1]});else if(l=o.match(/^>\s+(.*)/))s.push({type:"blockquote",text:l[1]});else if(o.match("^---+$"))s.push({type:"hr"});else{if(o.trim()==="")return;i||(i={type:"p",text:o.trim()},s.push(i))}}),s}function oe(a){var t=/(?=^#{1,6})(((.*[\s\S]*?)(?=\n^#{1,6}))|([\s\S]+))/gm;const s=a.match(t),n=/#{1,6}(.*)/gm,i=/#{1,6}/,c=[];return s.forEach(r=>{const o=r.match(i),l=r.match(n).toString().replace(o,"");c.push({type:`h${o.toString().length}`,title:l.trim(),content:r.replace(n,"").trim()})}),c}class re{constructor(t){this.el=document.querySelector(t),this.filename="",this.isCopying=!1,this.isUploading=!1,this.progress=0,this.progressTimeout=null,this.state=0,this.eventListeners=[],this.el&&this.addEvent()}drop(t){const s=n=>{this.el.classList.remove("drag"),t(n)};this.eventListeners.push({element:this.el,type:"drop",listener:s}),this.el.addEventListener("drop",s)}dragHandler(t){this.el.classList.add("drag"),t.preventDefault()}addEvent(){[{element:this.el,type:"click",listener:this.action.bind(this)},{element:this.el.querySelector("#file"),type:"change",listener:this.fileHandle.bind(this)},{element:this.el,type:"dragover",listener:this.dragHandler.bind(this)},{element:this.el,type:"dragleave",listener:this.dragHandler.bind(this)}].forEach(({element:s,type:n,listener:i})=>{s&&(s.addEventListener(n,i),this.eventListeners.push({element:s,type:n,listener:i}))})}action(t){var s,n;(n=this[(s=t.target)==null?void 0:s.getAttribute("data-action")])==null||n.call(this),this.stateDisplay()}cancel(){this.isUploading=!1,this.progress=0,this.progressTimeout=null,this.state=0,this.stateDisplay(),this.progressDisplay(),this.fileReset()}async copy(){var s;const t=(s=this.el)==null?void 0:s.querySelector("[data-action='copy']");!this.isCopying&&t&&(this.isCopying=!0,t.style.width=`${t.offsetWidth}px`,t.disabled=!0,t.textContent="Copied!",navigator.clipboard.writeText(this.filename),await new Promise(n=>setTimeout(n,1e3)),this.isCopying=!1,t.removeAttribute("style"),t.disabled=!1,t.textContent="Copy Link")}fail(){this.isUploading=!1,this.progress=0,this.progressTimeout=null,this.state=2,this.stateDisplay()}file(){var t;(t=this.el)==null||t.querySelector("#file").click()}fileDisplay(t=""){var n,i;this.filename=t;const s=(n=this.el)==null?void 0:n.querySelector("[data-file]");s&&(s.textContent=this.filename),(i=this.el)==null||i.setAttribute("data-ready",this.filename?"true":"false")}fileHandle(t){const s=t.dataTransfer?t.dataTransfer:t.target,{name:n}=s.files[0];return new Promise(()=>{if(s!=null&&s.files.length){this.fileCallback(s.files[0]);let i=new FileReader;i.onload=()=>{this.fileDisplay(n)},i.readAsDataURL(s.files[0])}})}fileCallback(t=null){typeof t=="function"&&(this.fileCallback=t)}fileReset(){var s;console.log("filereastt");const t=(s=this.el)==null?void 0:s.querySelector("#file");t&&(t.value=null),this.fileDisplay()}progressDisplay(){var i,c;const t=(i=this.el)==null?void 0:i.querySelector("[data-progress-value]"),s=(c=this.el)==null?void 0:c.querySelector("[data-progress-fill]"),n=Math.floor(this.progress*100);t&&(t.textContent=`${n}%`),s&&(s.style.transform=`translateX(${n}%)`)}async progressLoop(){if(this.progressDisplay(),this.isUploading){if(this.progress===0)if(await new Promise(t=>setTimeout(t,1e3)),this.isUploading){if(ce.randomInt(0,2)===0){this.fail();return}}else return;this.progress<1?(this.progress+=.01,this.progressTimeout=setTimeout(this.progressLoop.bind(this),50)):this.progress>=1&&(this.progressTimeout=setTimeout(()=>{this.isUploading&&(this.success(),this.stateDisplay(),this.progressTimeout=null)},250))}}stateDisplay(){var t;(t=this.el)==null||t.setAttribute("data-state",`${this.state}`)}success(){this.isUploading=!1,this.state=3,this.stateDisplay()}upload(t=null){t?this.upload=()=>{t(),this.fileReset()}:this.isUploading||(this.isUploading=!0,this.progress=0,this.state=1,this.progressLoop())}remove(){this.eventListeners.forEach(t=>{var n,i;(n=this.el)==null||n.removeEventListener("click",t);const s=(i=this.el)==null?void 0:i.querySelector("#file");s==null||s.removeEventListener("change",t)})}}class ce{static randomInt(t=0,s=2**32){const n=crypto.getRandomValues(new Uint32Array(1))[0]/4294967296,i=(s-t)*n;return Math.round(t+i)}}function de({uploadCallback:a,uploadingCallback:t,clickCallBack:s}){let n=h.useRef(null);const i=()=>{n.current=new re("#upload"),n.current.upload(t),n.current.fileCallback(a);const o=l=>{l.preventDefault(),n.current.fileHandle(l)};n.current.drop(o)},c=()=>{s(!1)};h.useEffect(()=>(i(),()=>{n.current.remove()}),[]);const{t:r}=N();return e.jsx(e.Fragment,{children:e.jsxs("div",{id:"upload",className:"modal","data-state":"0","data-ready":"false",children:[e.jsx("div",{className:"modal__header",children:e.jsxs("button",{className:"modal__close-button",type:"button",onClick:c,children:[e.jsx("svg",{className:"modal__close-icon",viewBox:"0 0 16 16",width:"16px",height:"16px","aria-hidden":"true",children:e.jsxs("g",{fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",children:[e.jsx("polyline",{points:"1,1 15,15"}),e.jsx("polyline",{points:"15,1 1,15"})]})}),e.jsx("span",{className:"modal__sr",children:r("uplod.close")})]})}),e.jsxs("div",{className:"modal__body",children:[e.jsxs("div",{className:"modal__col",children:[e.jsx("svg",{className:"modal__icon modal__icon--blue",viewBox:"0 0 24 24",width:"24px",height:"24px","aria-hidden":"true",children:e.jsxs("g",{fill:"none",stroke:"hsl(223,90%,50%)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{className:"modal__icon-sdo69",cx:"12",cy:"12",r:"11",strokeDasharray:"69.12 69.12"}),e.jsx("polyline",{className:"modal__icon-sdo14",points:"7 12 12 7 17 12",strokeDasharray:"14.2 14.2"}),e.jsx("line",{className:"modal__icon-sdo10",x1:"12",y1:"7",x2:"12",y2:"17",strokeDasharray:"10 10"})]})}),e.jsx("svg",{className:"modal__icon modal__icon--red",viewBox:"0 0 24 24",width:"24px",height:"24px","aria-hidden":"true",display:"none",children:e.jsxs("g",{fill:"none",stroke:"hsl(3,90%,50%)",strokeWidth:"2",strokeLinecap:"round",children:[e.jsx("circle",{className:"modal__icon-sdo69",cx:"12",cy:"12",r:"11",strokeDasharray:"69.12 69.12"}),e.jsx("line",{className:"modal__icon-sdo14",x1:"7",y1:"7",x2:"17",y2:"17",strokeDasharray:"14.2 14.2"}),e.jsx("line",{className:"modal__icon-sdo14",x1:"17",y1:"7",x2:"7",y2:"17",strokeDasharray:"14.2 14.2"})]})}),e.jsx("svg",{className:"modal__icon modal__icon--green",viewBox:"0 0 24 24",width:"24px",height:"24px","aria-hidden":"true",display:"none",children:e.jsxs("g",{fill:"none",stroke:"hsl(138,90%,50%)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{className:"modal__icon-sdo69",cx:"12",cy:"12",r:"11",strokeDasharray:"69.12 69.12"}),e.jsx("polyline",{className:"modal__icon-sdo14",points:"7 12.5 10 15.5 17 8.5",strokeDasharray:"14.2 14.2"})]})})]}),e.jsxs("div",{className:"modal__col",children:[e.jsxs("div",{className:"modal__content",children:[e.jsx("h2",{className:"modal__title",children:r("upload.Analytical a Makedown File")}),e.jsx("p",{className:"modal__message",children:r("upload.Select or drag a file to Analytical from your computer or device.")}),e.jsxs("div",{className:"modal__actions",children:[e.jsx("button",{className:"modal__button modal__button--upload",type:"button","data-action":"file",children:r("upload.Choose File")}),e.jsx("input",{id:"file",type:"file",hidden:!0})]}),e.jsxs("div",{className:"modal__actions",hidden:!0,children:[e.jsx("svg",{className:"modal__file-icon",viewBox:"0 0 24 24",width:"24px",height:"24px","aria-hidden":"true",children:e.jsxs("g",{fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("polygon",{points:"4 1 12 1 20 8 20 23 4 23"}),e.jsx("polyline",{points:"12 1 12 8 20 8"})]})}),e.jsx("div",{className:"modal__file","data-file":!0}),e.jsxs("button",{className:"modal__close-button",type:"button","data-action":"fileReset",children:[e.jsx("svg",{className:"modal__close-icon",viewBox:"0 0 16 16",width:"16px",height:"16px","aria-hidden":"true",children:e.jsxs("g",{fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",children:[e.jsx("polyline",{points:"4,4 12,12"}),e.jsx("polyline",{points:"12,4 4,12"})]})}),e.jsx("span",{className:"modal__sr",children:r("upload.remove ")})]}),e.jsx("button",{className:"modal__button",type:"button","data-action":"upload",children:"Upload"})]})]}),e.jsxs("div",{className:"modal__content",hidden:!0,children:[e.jsx("h2",{className:"modal__title",children:r("upload.Uploading…")}),e.jsx("p",{className:"modal__message",children:r("upload.Just give us a moment to process your file.")}),e.jsxs("div",{className:"modal__actions",children:[e.jsxs("div",{className:"modal__progress",children:[e.jsx("div",{className:"modal__progress-value","data-progress-value":!0,children:"0%"}),e.jsx("div",{className:"modal__progress-bar",children:e.jsx("div",{className:"modal__progress-fill","data-progress-fill":!0})})]}),e.jsx("button",{className:"modal__button",type:"button","data-action":"cancel",children:r("upload.Cancel")})]})]}),e.jsxs("div",{className:"modal__content",hidden:!0,children:[e.jsx("h2",{className:"modal__title",children:"Oops!"}),e.jsx("p",{className:"modal__message",children:r("upload.Your file could not be uploaded due to an error. Try uploading it again?")}),e.jsxs("div",{className:"modal__actions modal__actions--center",children:[e.jsx("button",{className:"modal__button",type:"button","data-action":"upload",children:"Retry"}),e.jsx("button",{className:"modal__button",type:"button","data-action":"cancel",children:"Cancel"})]})]}),e.jsxs("div",{className:"modal__content",hidden:!0,children:[e.jsx("h2",{className:"modal__title",children:r("upload.Upload Successful!")}),e.jsx("p",{className:"modal__message",children:"Your file has been uploaded. You can copy the link to your clipboard."}),e.jsxs("div",{className:"modal__actions modal__actions--center",children:[e.jsx("button",{className:"modal__button",type:"button","data-action":"copy",children:"Copy Link"}),e.jsx("button",{className:"modal__button",type:"button","data-action":"cancel",children:"Done"})]})]})]})]})]})})}function ue(){const{t:a}=N(),t={width:"80vw",height:"70vh"},s=h.useRef(null),n=h.useRef(null),i=h.useRef(null),[c,r]=h.useState(!1),[o,l]=h.useState(!0),d={id:"root",isroot:!0,topic:"jsMind"};let u={meta:{name:"jsMind-demo-tree",author:"hizzgdev@163.com",version:"0.2"},format:"node_array",data:[]};const p=()=>{let j={container:s.current,editable:!0,theme:"primary",view:{line_width:2,line_color:"",node_overflow:"hidden"}};n.current||(n.current=new $(j)),n.current.show(u)},m=j=>{ae(j).then(F=>{u.data=[],u.data.push(d),u.data.push(...F)})},v=()=>{l(j=>!j),r(!0)},f=()=>{i.current.style.display="block",p(),r(!1),l(j=>!j)},b=()=>{l(!1),r(!1)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"con",children:[e.jsxs("div",{className:"box",children:[e.jsx("button",{onClick:v,className:"btn",children:a("upload.open")}),e.jsx("div",{className:"dom",ref:i,children:e.jsx("div",{className:"domcontainer",children:e.jsx("div",{className:"jsdom",children:e.jsx("div",{id:"jsmind_container",ref:s,style:t})})})}),e.jsx("div",{className:o?"uploadContainer isBlock":"uploadContainer isNone",children:e.jsx(de,{uploadCallback:m,uploadingCallback:f,clickCallBack:b})})]}),e.jsx("div",{className:c?"mask":null})]})})}let g={type:"110",key:""};function he(){const a=h.useRef(null),t=h.useRef(null),[s,n]=h.useState([]),i=I(u=>u.login.token),c=L(),[r,o]=h.useState(0),l=async()=>{try{g.key=t.current.value,n([]);const u=await k.get(`http://127.0.0.1:5000/poem?type=${g.type}&key=${g.key}&user=he`);let p=[];g.type=="110"?p=u.data.split("。"):p=u.data.split(`
`),p=p.filter(m=>m.trim()).map(m=>m.trim()),n(p),s&&k.get(`http://127.0.0.1:5000/score?key=${g.key}&poem=${s.join("")}`).then(m=>{o(Object.entries(m.data))})}catch(u){console.error("获取诗歌失败:",u)}};function d(){a.current.classList.add("loading"),l(),setTimeout(function(){a.current.classList.remove("loading")},1500)}return h.useEffect(()=>{i||c("/login")},[i]),h.useEffect(()=>{},[]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"searchContainer",children:[e.jsx(xe,{}),e.jsx(pe,{}),e.jsxs("div",{className:"bodyContainer",children:[e.jsxs("div",{id:"search",ref:a,children:[e.jsx("input",{id:"input",placeholder:"Stand on the shouder of giants",ref:t,onKeyDown:u=>{u.key=="Enter"&&d()}}),e.jsx("button",{id:"button",onClick:d,children:e.jsx("i",{className:"fa fa-search"})}),e.jsx("div",{className:"spinner",children:e.jsx("i",{className:"fa fa-spinner"})})]}),e.jsx("div",{className:"note",children:"Click the button or hit enter."}),e.jsx("div",{className:"result",children:e.jsx(me,{poem:s,score:r})})]})]})})}function pe(){function a(){const s=document.querySelector("nav"),n=document.createElement("div");n.classList.add("active-element");const i=r=>{const o=r.getBoundingClientRect();return o.left-s.getBoundingClientRect().left+(o.width-n.offsetWidth)/2};s.appendChild(n);const c=s.querySelector("ul li.active button");document.fonts.ready.then(()=>{gsap.set(n,{x:i(c)}),gsap.to(n,{"--active-element-show":"1",duration:.2})}),s.querySelectorAll("ul li button").forEach((r,o)=>{r.addEventListener("click",()=>{const l=s.querySelector("ul li.active"),d=[...l.parentElement.children].indexOf(l);if(o===d||s.classList.contains("before")||s.classList.contains("after"))return;const u=i(r),p=o>d?"after":"before",m=Math.abs(u-i(l));s.classList.add(p),l.classList.remove("active"),r.parentElement.classList.add("active"),gsap.set(n,{rotateY:p==="before"?"180deg":"0deg"}),gsap.to(n,{keyframes:[{"--active-element-width":`${m>s.offsetWidth-60?s.offsetWidth-60:m}px`,duration:.3,ease:"none",onStart:()=>{gsap.to(n,{"--active-element-opacity":1,duration:.1})}},{"--active-element-scale-x":"0","--active-element-scale-y":".25","--active-element-width":"0px",duration:.3,onStart:()=>{gsap.to(n,{"--active-element-mask-position":"40%",duration:.5}),gsap.to(n,{"--active-element-opacity":0,delay:.45,duration:.25})},onComplete:()=>{n.innerHTML="",s.classList.remove("before","after"),n.removeAttribute("style"),gsap.set(n,{x:i(r),"--active-element-show":"1"})}}]}),gsap.to(n,{x:u,"--active-element-strike-x":"-50%",duration:.6,ease:"none"})})})}h.useEffect(()=>{a()},[]);const t=s=>{const n=s.target.getAttribute("model");g.type=n};return e.jsx("nav",{children:e.jsxs("ul",{children:[e.jsx("li",{className:"active",children:e.jsx("button",{model:"110",onClick:t,children:"主题模式"})}),e.jsx("li",{children:e.jsx("button",{model:"010",onClick:t,children:"五言绝句"})}),e.jsx("li",{children:e.jsx("button",{model:"100",onClick:t,children:"七言绝句"})}),e.jsx("li",{children:e.jsx("button",{model:"011",onClick:t,children:"ChatGPt-5言"})}),e.jsx("li",{children:e.jsx("button",{model:"101",onClick:t,children:"ChatGPt-7言"})})]})})}function me({score:a,poem:t}){return t.length===0?e.jsx(e.Fragment,{}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"body",children:e.jsxs("div",{id:"upload",className:"modal","data-state":"0","data-ready":"false",children:[e.jsx("div",{className:"modal__header",children:e.jsxs("button",{className:"modal__close-button",type:"button",children:[e.jsx("svg",{className:"modal__close-icon",viewBox:"0 0 16 16",width:"16px",height:"16px","aria-hidden":"true",children:e.jsxs("g",{fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",children:[e.jsx("polyline",{points:"1,1 15,15"}),e.jsx("polyline",{points:"15,1 1,15"})]})}),e.jsx("span",{className:"modal__sr",children:"Close"})]})}),e.jsxs("div",{className:"modal__body",children:[e.jsx("div",{className:"poemContainer",children:t.map((s,n)=>s=s.split(",").map((i,c)=>e.jsx("p",{children:i},c)))}),e.jsx("div",{className:"score",children:a&&a.map((s,n)=>e.jsxs("div",{children:[e.jsx("span",{children:s[0]}),e.jsx("div",{className:"scoreContainer",children:e.jsx(fe,{vv:s[1]},n)})]},n))})]})]})})})}function xe(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"all",children:[e.jsx("div",{className:"box",children:e.jsx(_,{to:"/login",children:e.jsx("div",{className:"card bg-03",children:e.jsx("span",{className:"card-content",children:" 登录"})})})}),e.jsx("div",{className:"box",children:e.jsx(_,{to:"/history",children:e.jsx("div",{className:"card bg-04",children:e.jsx("span",{className:"card-content",children:"历史记录"})})})}),e.jsx("div",{className:"box",children:e.jsx(_,{to:"/generpoem",children:e.jsx("div",{className:"card bg-05",children:e.jsx("span",{className:"card-content",children:" 诗歌生成"})})})})]})})}function fe({vv:a}){const t=h.useRef(null);return a=a.toFixed(2),h.useEffect(()=>{t.current.setAttribute("data-rating",a),document.querySelectorAll("input").forEach(s=>{s.checked=!0})},[]),e.jsx(e.Fragment,{children:e.jsx("div",{class:"star-rating",children:e.jsxs("div",{class:"stars",children:[e.jsx("label",{class:"number",children:e.jsx("input",{type:"checkbox",name:"rating",value:"0"})}),e.jsx("label",{class:"star",children:e.jsx("input",{type:"checkbox",name:"rating",value:"1"})}),e.jsx("label",{class:"star",children:e.jsx("input",{type:"checkbox",name:"rating",value:"2"})}),e.jsx("label",{class:"star",children:e.jsx("input",{type:"checkbox",name:"rating",value:"3"})}),e.jsx("label",{class:"star",children:e.jsx("input",{type:"checkbox",name:"rating",value:"4"})}),e.jsx("label",{class:"star",children:e.jsx("input",{type:"checkbox",name:"rating",value:"5"})}),e.jsx("div",{class:"number-rating",ref:t,"data-rating":"1"})]})})})}const R=["html","css","js","ts","vue","promise","pinia","vuex","canvas","react","nodejs","redis","nginx","git","vite","webpack"];function ve(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"search",children:[e.jsx("input",{type:"text",placeholder:"stand on the shouder of giants"}),e.jsx("button",{children:"search"})]}),e.jsx("div",{className:"list",children:R.map((a,t)=>e.jsx("div",{className:"item",children:e.jsx("p",{children:e.jsx(_,{to:`/detail/${a}`,relative:"path",children:a})})},t))})]})})}const je=()=>{document.querySelectorAll(".nav ").forEach(t=>t.classList.remove("visible"))},ge=()=>{document.querySelectorAll(".nav").forEach(t=>t.classList.add("visible"))};let w=!0;const _e=()=>{w?(w=!1,document.querySelector(".nav-btn").classList.add("cross"),ge()):(w=!0,document.querySelector(".nav-btn").classList.remove("cross"),je())};function ye(){const a=q();return document.title=a.code,h.useEffect(()=>{document.querySelector(".open-btn"),document.querySelector(".close-btn")},[]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"layout",children:[e.jsxs("div",{className:"left",children:[e.jsx("div",{className:"nav-btn open-btn flex",onClick:()=>_e(),children:e.jsxs("svg",{id:"icon",viewBox:"0 0 800 600",children:[e.jsx("path",{d:"M300,220 C300,220 520,220 540,220 C740,220 640,540 520,420 C440,340 300,200 300,200",id:"top"}),e.jsx("path",{d:"M300,320 L540,320",id:"middle"}),e.jsx("path",{d:"M300,210 C300,210 520,210 540,210 C740,210 640,530 520,410 C440,330 300,190 300,190",id:"bottom",transform:"translate(480, 320) scale(1, -1) translate(-480, -318) "})]})}),e.jsx("div",{className:"nav-container",children:e.jsx("div",{className:" nav  nav-black",children:e.jsx("div",{className:"nav  nav-red",children:e.jsxs("div",{className:"nav  nav-white",children:[e.jsx("div",{className:"cloase-btn-con"}),e.jsx("div",{className:"side",children:R.map((t,s)=>e.jsx("div",{className:"link",children:e.jsx("span",{children:e.jsx(_,{to:`/detail/${t}`,relative:"path",children:t})})},s))})]})})})})]}),e.jsxs("div",{className:"center flex",children:[e.jsx("div",{className:"header",children:e.jsx("h1",{children:a.code})}),e.jsx(M,{})]})]})})}const be="modulepreload",ke=function(a){return"https://hingq.github.io/jsmind_react/"+a},S={},x=function(t,s,n){let i=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),r=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=Promise.all(s.map(o=>{if(o=ke(o),o in S)return;S[o]=!0;const l=o.endsWith(".css"),d=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${d}`))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":be,l||(u.as="script",u.crossOrigin=""),u.href=o,r&&u.setAttribute("nonce",r),document.head.appendChild(u),l)return new Promise((p,m)=>{u.addEventListener("load",p),u.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${o}`)))})}))}return i.then(()=>t()).catch(c=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=c,window.dispatchEvent(r),!r.defaultPrevented)throw c})},A={html:()=>x(()=>import("./markdown-DkbvdvmO.js").then(a=>a.h),[]),promise:()=>x(()=>import("./markdown-DkbvdvmO.js").then(a=>a.p),[]),canvas:()=>x(()=>import("./markdown-DkbvdvmO.js").then(a=>a.c),[]),css:()=>x(()=>import("./markdown-DkbvdvmO.js").then(a=>a.C),[]),js:()=>x(()=>import("./markdown-DkbvdvmO.js").then(a=>a.j),[]),ts:()=>x(()=>import("./markdown-DkbvdvmO.js").then(a=>a.t),[]),nginx:()=>x(()=>import("./markdown-DkbvdvmO.js").then(a=>a.n),[]),react:()=>x(()=>import("./markdown-DkbvdvmO.js").then(a=>a.r),[]),redis:()=>x(()=>import("./markdown-DkbvdvmO.js").then(a=>a.a),[]),vite:()=>x(()=>import("./markdown-DkbvdvmO.js").then(a=>a.v),[]),vitest:()=>x(()=>import("./markdown-DkbvdvmO.js").then(a=>a.b),[]),vue:()=>x(()=>import("./markdown-DkbvdvmO.js").then(a=>a.d),[]),git:()=>x(()=>import("./markdown-DkbvdvmO.js").then(a=>a.g),[]),webpack:()=>x(()=>import("./markdown-DkbvdvmO.js").then(a=>a.w),[])};y.registerLanguage("javascript",U);y.registerLanguage("typescript",O);y.registerLanguage("cpp",B);y.registerLanguage("plaintext",W);y.registerLanguage("c",V);y.registerLanguage("css",H);function Ne(){const[a,t]=h.useState(""),[s,n]=h.useState([]),i=Y(),c=L();document.title=i;async function r(){return A[i]||c("/404"),await A[i]()}return h.useEffect(()=>{const o=new Worker(new URL("https://hingq.github.io/jsmind_react/assets/mdWorker-CG6rcHwL.js",import.meta.url),{type:"module"});return o.onmessage=function(l){t(l.data._html),n(l.data.idArray)},o.onerror=function(l){console.log(l)},r().then(l=>{o.postMessage({markdown:l.default})}),()=>{o.terminate()}},[i]),h.useEffect(()=>{const o=l=>{if(l.preventDefault(),l.target.tagName==="A"&&l.target.hash){l.preventDefault();const d=decodeURIComponent(l.target.hash.slice(1)),u=document.getElementById(d);u&&u.scrollIntoView({behavior:"smooth"})}};return document.addEventListener("click",o),()=>{document.removeEventListener("click",o)}},[]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"markdown",children:[e.jsx("div",{className:"backhome",children:e.jsx(_,{to:"/",children:"🏡"})}),e.jsx("div",{className:"markdown-body",dangerouslySetInnerHTML:{__html:a}}),e.jsx("div",{className:"head-link",children:s.map((o,l)=>e.jsx("span",{className:o.tag==="h1"?"target large":"target",children:e.jsx("a",{href:`#${o.id}`,children:o.name})},l))})]})})}function Le(){const{t:a}=N();return e.jsx(e.Fragment,{children:e.jsxs("main",{className:"err-container",children:[e.jsx("svg",{className:"paper",viewBox:"0 0 300 300",width:"300px",height:"300px",role:"img","aria-label":"A piece of paper torn in half",children:e.jsxs("g",{className:"paper__outline",fill:"none",stroke:"hsl(0,10%,10%)",strokeWidth:"8",strokeLinecap:"round",strokeLinejoin:"round",transform:"translate(61,4)",children:[e.jsxs("g",{className:"paper__top",transform:"translate(0,25)",children:[e.jsx("polygon",{className:"paper__shadow",fill:"hsl(0,10%,70%)",stroke:"none",points:"0 148,0 0,137 0,187 50,187 148,155 138,124 148,93 138,62 148,31 138",transform:"translate(-12,12)"}),e.jsx("rect",{className:"paper__tear-fill",fill:"hsl(0,0%,100%)",stroke:"none",x:"0",y:"137",width:"0",height:"23px"}),e.jsx("polygon",{className:"paper__fill",fill:"hsl(0,0%,100%)",stroke:"none",points:"0 148,0 0,137 0,187 50,187 148,155 138,124 148,93 138,62 148,31 138"}),e.jsx("polygon",{className:"paper__shadow",fill:"hsl(0,10%,70%)",stroke:"none",points:"137 0,132 55,187 50,142 45"}),e.jsx("polyline",{points:"137 0,142 45,187 50"}),e.jsx("polyline",{points:"0 148,0 0,137 0,187 50,187 148"}),e.jsxs("g",{className:"paper__lines",stroke:"hsl(0,10%,70%)",children:[e.jsx("polyline",{points:"22 88,165 88"}),e.jsx("polyline",{points:"22 110,165 110"}),e.jsx("polyline",{points:"22 132,165 132"})]}),e.jsx("polyline",{className:"paper__tear",points:"0 148,31 138,62 148,93 138,124 148,155 138,187 148",strokeDasharray:"198 198",strokeDashoffset:"-198"})]}),e.jsxs("g",{className:"paper__bottom",transform:"translate(0,25)",children:[e.jsx("polygon",{className:"paper__shadow",fill:"hsl(0,10%,70%)",stroke:"none",points:"0 148,31 138,62 148,93 138,124 148,155 138,187 148,187 242,0 242",transform:"translate(-12,12)"}),e.jsx("polygon",{className:"paper__fill",fill:"hsl(0,0%,100%)",stroke:"none",points:"0 148,31 140,62 148,93 138,124 148,155 138,187 148,187 242,0 242"}),e.jsx("polyline",{points:"187 148,187 242,0 242,0 148"}),e.jsxs("g",{className:"paper__lines",stroke:"hsl(0,10%,70%)",children:[e.jsx("polyline",{points:"22 154,165 154"}),e.jsx("polyline",{points:"22 176,165 176"}),e.jsx("polyline",{points:"22 198,94 198"})]}),e.jsx("polyline",{className:"paper__tear",points:"0 148,31 138,62 148,93 138,124 148,155 138,187 148",strokeDasharray:"198 198",strokeDashoffset:"-198"})]})]})}),e.jsxs("div",{children:[e.jsx("h1",{children:"404"}),e.jsx("p",{children:a("We couldn’t find the page you were looking for. It may have been moved, or it just doesn’t exist.")}),e.jsx("a",{className:"btn-link",href:"/",children:a(" Go Back Home")})]})]})})}const we={token:""},T=D({name:"login",initialState:we,reducers:{addToken(a,t){const s=t.payload;a.token=s,sessionStorage.setItem("token",JSON.stringify(s))},getTooken(){return sessionStorage.getItem("token")}}}),{addToken:Ee,getTooken:Ve}=T.actions,Ce=T.reducer;function Se(){const a=h.useRef(null),t=h.useRef(null),s=L(),n=J();h.useEffect(()=>{var c=document.querySelectorAll(".styled_input_placeholder_text"),r=document.querySelectorAll(".styled_input_input");c.forEach(function(l,d){for(var u=l.innerText,p="",f=u,m=Array.isArray(f),v=0,f=m?f:f[Symbol.iterator]();;){var b;if(m){if(v>=f.length)break;b=f[v++]}else{if(v=f.next(),v.done)break;b=v.value}var j=b;u||(u="&nbsp;"),p+='<span class="letter">'+j+"</span>"}l.innerHTML=p}),r.forEach(function(l){var d=l.parentNode;l.addEventListener("focus",function(){d.classList.add("filled"),o(d,!0)},!1),l.addEventListener("blur",function(){l.value.length||(d.classList.remove("filled"),o(d,!1))},!1)});function o(l,d){var u=d?"add":"remove",p=l.querySelectorAll(".letter");p=[].slice.call(p,0),d||(p=p.reverse()),p.forEach(function(m,v){setTimeout(function(){var f=l.classList.contains("filled");d&&!f||!d&&f||m.classList[u]("active")},50*v)})}setTimeout(function(){document.body.classList.add("on_start")},100),setTimeout(function(){document.body.classList.add("document_loaded")},1800)},[]);const i=()=>{const c={username:a.current.value,password:t.current.value};k.post("http://127.0.0.1:5000/login",c).then(r=>{n(Ee(r.data)),setTimeout(()=>{s("/poem")},100)})};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"login_con",children:e.jsxs("form",{class:"form",children:[e.jsx("div",{class:"form_cover"}),e.jsx("div",{class:"form_loader",children:e.jsx("div",{class:"spinner active",children:e.jsx("svg",{class:"spinner_circular",viewBox:"25 25 50 50",children:e.jsx("circle",{class:"spinner_path",cx:"50",cy:"50",r:"20",fill:"none",strokeWidth:"4",strokeMiterlimit:"10"})})})}),e.jsxs("div",{class:"form_content",children:[e.jsx("h1",{children:"Authorization"}),e.jsxs("div",{class:"styled_input",children:[e.jsx("input",{type:"text",class:"styled_input_input",name:"nickname",ref:a}),e.jsx("div",{class:"styled_input_placeholder",children:e.jsx("span",{class:"styled_input_placeholder_text",children:"Username"})}),e.jsx("div",{class:"styled_input_circle"})]}),e.jsxs("div",{class:"styled_input",children:[e.jsx("input",{type:"text",class:"styled_input_input",ref:t}),e.jsx("div",{class:"styled_input_placeholder",children:e.jsx("span",{class:"styled_input_placeholder_text",children:"Password"})}),e.jsx("div",{class:"styled_input_circle"})]}),e.jsx("button",{type:"button",class:"styled_button",onClick:i,children:e.jsxs("span",{class:"styled_button_real_text_holder",children:[e.jsx("span",{class:"styled_button_real_text",children:"Submit"}),e.jsxs("span",{class:"styled_button_moving_block face",children:[e.jsx("span",{class:"styled_button_text_holder",children:e.jsx("span",{class:"styled_button_text",children:"Submit"})})," "]}),e.jsx("span",{class:"styled_button_moving_block back",children:e.jsx("span",{class:"styled_button_text_holder",children:e.jsx("span",{class:"styled_button_text",children:"Submit"})})})]})})]})]})})})}function Ae(){const[a,t]=h.useState([]),s=()=>{k.get("http://127.0.0.1:5000/history?user=he").then(n=>{t(n.data)})};return h.useEffect(()=>{s()},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"zt",children:e.jsxs("div",{className:"zt_top",children:[e.jsxs("div",{className:"swiper2",children:[e.jsx("div",{className:"swiper-pagination"}),e.jsx("div",{className:"swiper-wrapper",children:e.jsx("div",{className:"swiper-slide",children:e.jsxs("div",{className:"sw_fixed",style:{backgroundColor:"#f7ffdf"},children:[e.jsx("div",{children:"时间"}),e.jsx("div",{children:"内容"})]})})})]}),e.jsxs("div",{className:"swiper1",children:[e.jsx("div",{className:"swiper-pagination"}),e.jsx("div",{className:"swiper-wrapper",children:e.jsx("div",{className:"swiper-slide",children:e.jsx("ul",{className:"forecast_list",children:a.map((n,i)=>e.jsxs("li",{children:[e.jsx("div",{children:n.time}),e.jsx("div",{style:{letterSpacing:"2px"},children:n.history.join(", ")})]},i))})})})]})]})})})}const De=z([{path:"/",element:e.jsx(se,{})},{path:"/mind",element:e.jsx(ue,{})},{path:"/poem",element:e.jsx(he,{})},{path:"/login",element:e.jsx(Se,{})},{path:"/history",element:e.jsx(Ae,{})},{path:"/code",element:e.jsx(ve,{})},{path:"/detail",element:e.jsx(ye,{}),children:[{path:":id",loader:({params:a})=>a.id,element:e.jsx(Ne,{})}]},{path:"*",element:e.jsx(Le,{})}]);function Re(){return e.jsx(e.Fragment,{children:e.jsx(G,{router:De})})}const Te={id:[]},P=D({name:"md",initialState:Te,reducers:{addId(a,t){const s=t.payload;a.id=s}}});P.actions;const Pe=P.reducer,Fe=K({reducer:{md:Pe,login:Ce}}),$e={Analytical:"Analytical",Feedback:"Feedback",markdown:"markdown",Project:"Project"},Ie={Close:"Close","Analytical a Makedown File":"Analytical a Makedown File","Select or drag a file to Analytical from your computer or device.":"Select or drag a file to Analytical from your computer or device.","Choose File":"Choose File",Remove:"Remove","Uploading…":"Uploading…","Just give us a moment to process your file.":"Just give us a moment to process your file.","Your file could not be uploaded due to an error. Try uploading it again?":"  Your file could not be uploaded due to an error. Try uploading it again?",Retry:"Retry",Cancel:"Cancel","Upload Successful!":"Upload Successful!","Your file has been uploaded. You can copy the link to your clipboard.":"Your file has been uploaded. You can copy the link to your clipboard."," Done ":" Done ",open:"Open"},qe={nav:$e,upload:Ie," We couldn’t find the page you were looking for. It may have been moved, or it just doesn’t exist.":" We couldn’t find the page you were looking for. It may have been moved, or it just doesn’t exist.","go back home":"go back home"},Me={Analytical:"思维导图",Feedback:"反馈",markdown:"笔记",Project:"更多项目"},Ue={Close:"关闭","Analytical a Makedown File":"解析markdown文件","Select or drag a file to Analytical from your computer or device.":"选择或拖拽文件","Choose File":"选择文件",Remove:"取消","Uploading…":"上传中...","Just give us a moment to process your file.":"这需要一点时间。","Your file could not be uploaded due to an error. Try uploading it again?":" 文件上传失败。是否重试",Retry:"重试",Cancel:"取消","Upload Successful!":"上传成功","Your file has been uploaded. You can copy the link to your clipboard.":"Your file has been uploaded. You can copy the link to your clipboard."," Done ":" Done ",open:"打开"},Oe={nav:Me,upload:Ue," We couldn’t find the page you were looking for. It may have been removed, or it just doesn’t exist.":" 页面不存在","go back home":"返回首页"},Be={en:{translation:qe},zh:{translation:Oe}};X.use(Q).use(Z).init({resources:Be,fallbackLng:"en",interpolation:{escapeValue:!1}});ee.createRoot(document.getElementById("root")).render(e.jsx(te,{store:Fe,children:e.jsx(Re,{})}));
